<?xml version="1.0" encoding="UTF-8"?>
<ViewConfig>
  <Arguments/>
  <Context/>
  <Model>
    <DataType name="ServiceOrder">
      <Property name="creationType">com.kuaima.entity.ServiceOrder</Property>
      <PropertyDef name="id">
        <Property name="dataType">String</Property>
      </PropertyDef>
      <PropertyDef name="orderNo">
        <Property name="dataType">String</Property>
        <Property name="label">定单编码</Property>
      </PropertyDef>
      <PropertyDef name="orderStatus">
        <Property name="dataType">String</Property>
        <Property name="label">订单状态</Property>
      </PropertyDef>
      <PropertyDef name="workerId">
        <Property name="dataType">String</Property>
        <Property name="label">安装师傅编码</Property>
      </PropertyDef>
      <PropertyDef name="receiver">
        <Property name="dataType">String</Property>
        <Property name="label">收货人</Property>
      </PropertyDef>
      <PropertyDef name="receiverPhone">
        <Property name="dataType">String</Property>
        <Property name="label">收货手机</Property>
      </PropertyDef>
      <PropertyDef name="province">
        <Property name="dataType">String</Property>
        <Property name="label">省</Property>
      </PropertyDef>
      <PropertyDef name="provinceName">
        <Property name="dataType">String</Property>
        <Property name="label">省</Property>
      </PropertyDef>
      <PropertyDef name="city">
        <Property name="dataType">String</Property>
        <Property name="label">市</Property>
      </PropertyDef>
      <PropertyDef name="cityName">
        <Property name="dataType">String</Property>
        <Property name="label">市</Property>
      </PropertyDef>
      <PropertyDef name="region">
        <Property name="dataType">String</Property>
        <Property name="label">区县</Property>
      </PropertyDef>
      <PropertyDef name="regionName">
        <Property name="dataType">String</Property>
        <Property name="label">区县</Property>
      </PropertyDef>
      <PropertyDef name="town">
        <Property name="dataType">String</Property>
        <Property name="label">镇</Property>
      </PropertyDef>
      <PropertyDef name="address">
        <Property name="dataType">String</Property>
        <Property name="label">详细地址</Property>
      </PropertyDef>
      <PropertyDef name="appointmentTime">
        <Property name="dataType">DateTime</Property>
        <Property name="label">预约安装时间</Property>
      </PropertyDef>
      <PropertyDef name="finishTime">
        <Property name="dataType">DateTime</Property>
        <Property name="label">安装完成时间</Property>
      </PropertyDef>
      <PropertyDef name="allocateTime">
        <Property name="dataType">DateTime</Property>
        <Property name="label">系统分配时间</Property>
      </PropertyDef>
      <PropertyDef name="takeTime">
        <Property name="dataType">DateTime</Property>
        <Property name="label">师傅取件时间</Property>
      </PropertyDef>
      <PropertyDef name="sku">
        <Property name="dataType">String</Property>
        <Property name="label">商品编码</Property>
      </PropertyDef>
      <PropertyDef name="logisticsNo">
        <Property name="dataType">String</Property>
        <Property name="label">物流单号</Property>
      </PropertyDef>
      <PropertyDef name="postStationCode">
        <Property name="dataType">String</Property>
        <Property name="label">驿站编码</Property>
      </PropertyDef>
      <PropertyDef name="createDate">
        <Property name="dataType">Date</Property>
      </PropertyDef>
      <PropertyDef name="creater">
        <Property></Property>
      </PropertyDef>
      <PropertyDef name="updateDate">
        <Property name="dataType">Date</Property>
      </PropertyDef>
      <PropertyDef name="updater">
        <Property></Property>
      </PropertyDef>
      <PropertyDef name="hasDistribution">
        <Property name="dataType">Integer</Property>
        <Property name="label">是否配送</Property>
      </PropertyDef>
      <PropertyDef name="hasInstallation">
        <Property name="dataType">Integer</Property>
        <Property name="label">是否安装</Property>
      </PropertyDef>
      <PropertyDef name="retailerOrderNo">
        <Property></Property>
      </PropertyDef>
    </DataType>
    <DataType name="Condition">
      <PropertyDef name="orderNo">
        <Property name="dataType">String</Property>
        <Property name="label">定单编码</Property>
      </PropertyDef>
      <PropertyDef name="orderStatus">
        <Property name="dataType">String</Property>
        <Property name="label">订单状态</Property>
      </PropertyDef>
      <PropertyDef name="workerId">
        <Property name="dataType">String</Property>
        <Property name="label">安装师傅编码</Property>
      </PropertyDef>
      <PropertyDef name="receiver">
        <Property name="dataType">String</Property>
        <Property name="label">收货人</Property>
      </PropertyDef>
      <PropertyDef name="receiverPhone">
        <Property name="dataType">String</Property>
        <Property name="label">收货手机</Property>
      </PropertyDef>
      <PropertyDef name="province">
        <Property name="dataType">String</Property>
        <Property name="label">省编码</Property>
      </PropertyDef>
      <PropertyDef name="provinceName">
        <Property name="dataType">String</Property>
        <Property name="label">省</Property>
      </PropertyDef>
      <PropertyDef name="city">
        <Property name="dataType">String</Property>
        <Property name="label">市编码</Property>
      </PropertyDef>
      <PropertyDef name="cityName">
        <Property name="dataType">String</Property>
        <Property name="label">市</Property>
      </PropertyDef>
      <PropertyDef name="region">
        <Property name="dataType">String</Property>
        <Property name="label">区县编码</Property>
      </PropertyDef>
      <PropertyDef name="regionName">
        <Property name="dataType">String</Property>
        <Property name="label">区县</Property>
      </PropertyDef>
      <PropertyDef name="town">
        <Property name="dataType">String</Property>
        <Property name="label">镇</Property>
      </PropertyDef>
      <PropertyDef name="address">
        <Property name="dataType">String</Property>
        <Property name="label">详细地址</Property>
      </PropertyDef>
      <PropertyDef name="appointmentTimeStart">
        <Property name="dataType">DateTime</Property>
        <Property name="label">预约安装时间(起)</Property>
      </PropertyDef>
      <PropertyDef name="appointmentTimeEnd">
        <Property name="dataType">DateTime</Property>
        <Property name="label">预约安装时间(至)</Property>
      </PropertyDef>
      <PropertyDef name="appointmentTime">
        <Property name="dataType">String</Property>
        <Property name="label">预约安装时间</Property>
      </PropertyDef>
      <PropertyDef name="finishTimeStart">
        <Property name="dataType">DateTime</Property>
        <Property name="label">安装完成时间(起)</Property>
      </PropertyDef>
      <PropertyDef name="finishTimeEnd">
        <Property name="dataType">DateTime</Property>
        <Property name="label">安装完成时间(至)</Property>
      </PropertyDef>
      <PropertyDef name="finishTime">
        <Property name="dataType">String</Property>
        <Property name="label">安装完成时间</Property>
      </PropertyDef>
      <PropertyDef name="allocateTimeStart">
        <Property name="dataType">DateTime</Property>
        <Property name="label">系统分配时间(起)</Property>
      </PropertyDef>
      <PropertyDef name="allocateTimeEnd">
        <Property name="dataType">DateTime</Property>
        <Property name="label">系统分配时间(至)</Property>
      </PropertyDef>
      <PropertyDef name="allocateTime">
        <Property name="dataType">String</Property>
        <Property name="label">系统分配时间</Property>
      </PropertyDef>
      <PropertyDef name="takeTimeStart">
        <Property name="dataType">DateTime</Property>
        <Property name="label">师傅取件时间(起)</Property>
      </PropertyDef>
      <PropertyDef name="takeTimeEnd">
        <Property name="dataType">DateTime</Property>
        <Property name="label">师傅取件时间(至)</Property>
      </PropertyDef>
      <PropertyDef name="takeTime">
        <Property name="dataType">String</Property>
        <Property name="label">师傅取件时间</Property>
      </PropertyDef>
      <PropertyDef name="sku">
        <Property name="dataType">String</Property>
        <Property name="label">商品编码</Property>
      </PropertyDef>
      <PropertyDef name="logisticsNo">
        <Property name="dataType">String</Property>
        <Property name="label">物流单号</Property>
      </PropertyDef>
      <PropertyDef name="postStationCode">
        <Property name="dataType">String</Property>
        <Property name="label">驿站编码</Property>
      </PropertyDef>
    </DataType>
    <DataType name="City">
      <PropertyDef name="id">
        <Property></Property>
      </PropertyDef>
      <PropertyDef name="name">
        <Property></Property>
      </PropertyDef>
      <PropertyDef name="adCode">
        <Property></Property>
      </PropertyDef>
      <PropertyDef name="cityCode">
        <Property></Property>
      </PropertyDef>
      <PropertyDef name="lat">
        <Property name="dataType">Double</Property>
      </PropertyDef>
      <PropertyDef name="lng">
        <Property name="dataType">Double</Property>
      </PropertyDef>
    </DataType>
    <DataType name="WorkerInfo">
      <Property name="creationType">com.kuaima.entity.WorkerInfo</Property>
      <PropertyDef name="id">
        <Property name="dataType">String</Property>
      </PropertyDef>
      <PropertyDef name="workerId">
        <Property name="dataType">String</Property>
        <Property name="label">师傅编码</Property>
      </PropertyDef>
      <PropertyDef name="cityId">
        <Property name="dataType">String</Property>
        <Property name="label">所在城市</Property>
      </PropertyDef>
      <PropertyDef name="cardName">
        <Property name="dataType">String</Property>
        <Property name="label">真实姓名</Property>
      </PropertyDef>
      <PropertyDef name="cardId">
        <Property name="dataType">String</Property>
        <Property name="label">身份证号</Property>
      </PropertyDef>
      <PropertyDef name="cardFrontUrl">
        <Property name="dataType">String</Property>
        <Property name="label">身份证正面</Property>
      </PropertyDef>
      <PropertyDef name="cardBackUrl">
        <Property name="dataType">String</Property>
        <Property name="label">身份证反面</Property>
      </PropertyDef>
      <PropertyDef name="emergencyContactPerson">
        <Property name="dataType">String</Property>
        <Property name="label">紧急联系人</Property>
      </PropertyDef>
      <PropertyDef name="emergencyContact">
        <Property name="dataType">String</Property>
        <Property name="label">紧急联系方式</Property>
      </PropertyDef>
      <PropertyDef name="carType">
        <Property name="dataType">Integer</Property>
        <Property name="label">汽车类型</Property>
      </PropertyDef>
      <PropertyDef name="carImageUrl">
        <Property name="dataType">String</Property>
        <Property name="label">照片</Property>
      </PropertyDef>
      <PropertyDef name="licensePlate">
        <Property name="dataType">String</Property>
        <Property name="label">车牌号</Property>
      </PropertyDef>
      <PropertyDef name="driversLicenseUrl">
        <Property name="dataType">String</Property>
        <Property name="label">驾驶证照片</Property>
      </PropertyDef>
      <PropertyDef name="drivingLicenseUrl">
        <Property name="dataType">String</Property>
        <Property name="label">行驶证照片</Property>
      </PropertyDef>
      <PropertyDef name="status">
        <Property name="dataType">Integer</Property>
        <Property name="label">审核状态</Property>
      </PropertyDef>
      <PropertyDef name="payDeposit">
        <Property name="dataType">String</Property>
        <Property name="label">是否缴纳保证金</Property>
      </PropertyDef>
      <PropertyDef name="deposit">
        <Property name="dataType">String</Property>
        <Property name="label">保证金金额</Property>
      </PropertyDef>
      <PropertyDef name="depositCode">
        <Property name="dataType">String</Property>
        <Property name="label">保证金编码</Property>
      </PropertyDef>
      <PropertyDef name="depositName">
        <Property name="dataType">String</Property>
        <Property name="label">保证金名称</Property>
      </PropertyDef>
      <PropertyDef name="workerPhone">
        <Property></Property>
        <Property name="label">手机号</Property>
      </PropertyDef>
      <PropertyDef name="registrationTime">
        <Property name="dataType">Date</Property>
        <Property name="label">注册时间</Property>
      </PropertyDef>
      <PropertyDef name="lastLoginTime">
        <Property name="dataType">Date</Property>
        <Property name="label">最后登录时间</Property>
      </PropertyDef>
      <PropertyDef name="memberRank">
        <Property></Property>
        <Property name="label">会员等级</Property>
      </PropertyDef>
      <PropertyDef name="score">
        <Property></Property>
        <Property name="label">评分</Property>
      </PropertyDef>
      <PropertyDef name="isWorking">
        <Property></Property>
        <Property name="label">是否接单</Property>
        <Property name="mapping">
          <Property name="mapValues">${dorado.getDataProvider(&quot;enumProvider#getValues&quot;).getResult(&quot;IS_WORKING&quot;)}</Property>
        </Property>
      </PropertyDef>
      <PropertyDef name="createTime">
        <Property name="dataType">Date</Property>
      </PropertyDef>
      <PropertyDef name="updateTime">
        <Property name="dataType">Date</Property>
      </PropertyDef>
      <PropertyDef name="hasCar">
        <Property name="dataType">Integer</Property>
        <Property name="label">有无车辆</Property>
      </PropertyDef>
    </DataType>
    <DataType name="WorkerOrderCount">
      <PropertyDef name="workerId">
        <Property></Property>
      </PropertyDef>
      <PropertyDef name="num">
        <Property></Property>
      </PropertyDef>
    </DataType>
    <DataType name="ServiceOrderImp">
      <PropertyDef name="orderNo">
        <Property></Property>
        <Property name="label">订单号</Property>
      </PropertyDef>
      <PropertyDef name="workerId">
        <Property></Property>
        <Property name="label">师傅编码</Property>
      </PropertyDef>
      <PropertyDef name="cardName">
        <Property></Property>
        <Property name="label">姓名</Property>
      </PropertyDef>
    </DataType>
  </Model>
  <View>
    <Property name="packages">font-awesome-new,colors</Property>
    <Property name="title">订单信息信息维护</Property>
    <Panel layout="padding:2;regionPadding:4" layoutConstraint="left">
      <Property name="width">33%</Property>
      <Property name="caption">未分配订单</Property>
      <Buttons/>
      <Children>
        <ToolBar>
          <Property name="fixRight">true</Property>
          <ToolBarButton>
            <ClientEvent name="onClick">var data = view.get(&quot;#formCondition.entity&quot;);&#xD;
with (view.get(&quot;#dsServiceOrder&quot;)){&#xD;
set(&quot;parameter&quot;, data);&#xD;
flushAsync();&#xD;
}</ClientEvent>
            <Property name="caption">查询</Property>
            <Property name="iconClass">fa fa-search</Property>
          </ToolBarButton>
          <ToolBarButton>
            <Property name="caption">导出</Property>
            <Property name="iconClass">fa fa-cloud-download</Property>
            <Property name="action">exportAction</Property>
          </ToolBarButton>
        </ToolBar>
        <DataGrid id="dgServiceOrder">
          <Property name="dataSet">dsServiceOrder</Property>
          <Property name="dataType">ServiceOrder</Property>
          <Property name="selectionMode">multiRows</Property>
          <Property name="readOnly">true</Property>
          <Property name="scrollMode">lazyRender</Property>
          <Property name="stretchColumnsMode">auto</Property>
          <RowSelectorColumn/>
          <RowNumColumn/>
          <DataColumn name="定单编码">
            <Property name="caption">定单编码</Property>
            <Property name="property">orderNo</Property>
            <Property name="align">center</Property>
          </DataColumn>
          <DataColumn name="收货人">
            <Property name="caption">收货人</Property>
            <Property name="property">receiver</Property>
            <Property name="align">center</Property>
          </DataColumn>
          <DataColumn name="收货手机">
            <Property name="caption">收货手机</Property>
            <Property name="property">receiverPhone</Property>
            <Property name="align">center</Property>
          </DataColumn>
          <DataColumn name="详细地址">
            <Property name="caption">详细地址</Property>
            <Property name="property">address</Property>
            <Property name="align">center</Property>
            <Property name="visible">false</Property>
          </DataColumn>
          <DataColumn>
            <Property name="property">regionName</Property>
            <Property name="align">center</Property>
            <Property name="caption">区/县</Property>
            <Property name="name">区/县</Property>
          </DataColumn>
          <DataColumn>
            <Property name="property">address</Property>
            <Property name="align">center</Property>
            <Property name="name">详细地址</Property>
            <Property name="caption">详细地址</Property>
          </DataColumn>
          <DataColumn>
            <Property name="property">region</Property>
            <Property name="align">center</Property>
            <Property name="caption">区/县编码</Property>
            <Property name="name">区/县编码</Property>
            <Property name="visible">false</Property>
          </DataColumn>
          <DataColumn name="id">
            <Property name="property">id</Property>
            <Property name="visible">false</Property>
          </DataColumn>
        </DataGrid>
        <ToolBar layoutConstraint="bottom">
          <DataPilot>
            <Property name="dataSet">dsServiceOrder</Property>
            <Property name="itemCodes">|&lt;,&lt;</Property>
          </DataPilot>
          <Fill/>
          <DataPilot>
            <Property name="dataSet">dsServiceOrder</Property>
            <Property name="itemCodes">>,>|</Property>
          </DataPilot>
        </ToolBar>
      </Children>
      <Tools/>
    </Panel>
    <Panel>
      <Property name="caption">分配</Property>
      <Buttons/>
      <Children>
        <Container layout="padding:2;regionPadding:4" layoutConstraint="left">
          <Property name="width">50%</Property>
          <ToolBar>
            <Label>
              <Property name="exClassName">blue-text</Property>
              <Property name="text">师傅列表</Property>
            </Label>
            <Fill/>
          </ToolBar>
          <DataGrid id="dgWorkerInfo">
            <Property name="dataSet">dsWorkerInfo</Property>
            <Property name="dataType">WorkerInfo</Property>
            <Property name="selectionMode">singleRow</Property>
            <Property name="readOnly">true</Property>
            <Property name="stretchColumnsMode">off</Property>
            <RowSelectorColumn/>
            <RowNumColumn/>
            <DataColumn name="师傅编码">
              <Property name="caption">师傅编码</Property>
              <Property name="property">workerId</Property>
              <Property name="align">center</Property>
            </DataColumn>
            <DataColumn name="真实姓名">
              <Property name="caption">真实姓名</Property>
              <Property name="property">cardName</Property>
              <Property name="align">center</Property>
            </DataColumn>
            <DataColumn>
              <Property name="caption">手机号</Property>
              <Property name="property">workerPhone</Property>
              <Property name="align">center</Property>
              <Property name="name">手机号</Property>
            </DataColumn>
            <DataColumn>
              <Property name="property">isWorking</Property>
              <Property name="caption">是否接单</Property>
              <Property name="name">是否接单</Property>
              <Property name="align">center</Property>
            </DataColumn>
          </DataGrid>
          <ToolBar layoutConstraint="bottom">
            <DataPilot>
              <Property name="dataSet">dsWorkerInfo</Property>
              <Property name="itemCodes">|&lt;,&lt;</Property>
            </DataPilot>
            <Fill/>
            <DataPilot>
              <Property name="dataSet">dsWorkerInfo</Property>
              <Property name="itemCodes">>,>|</Property>
            </DataPilot>
          </ToolBar>
        </Container>
        <Container layout="vbox align:center;pack:center" layoutConstraint="left">
          <Property name="width">10%</Property>
          <Property name="style">
            <Property name="background-color">#ededed</Property>
          </Property>
          <Button>
            <ClientEvent name="onClick">var workerInfoSelections = view.get(&quot;#dgWorkerInfo&quot;).get(&quot;selection&quot;);&#xD;
var serviceOrderSelections = view.get(&quot;#dgServiceOrder&quot;).get(&quot;selection&quot;);&#xD;
if (!workerInfoSelections &amp;&amp; (!serviceOrderSelections || 0== serviceOrderSelections.length ) ){&#xD;
	dorado.MessageBox.alert(&quot;请选择需要绑定的订单和师傅！&quot;);&#xD;
	return&#xD;
};&#xD;
if (!workerInfoSelections || 0 == workerInfoSelections.length){&#xD;
	dorado.MessageBox.alert(&quot;请选择需要绑定的师傅！&quot;);&#xD;
	return&#xD;
};&#xD;
if (!serviceOrderSelections || 0== serviceOrderSelections.length){&#xD;
	dorado.MessageBox.alert(&quot;请选择需要绑定的订单！&quot;);&#xD;
	return &#xD;
};&#xD;
// 绑定&#xD;
var parameter ={&#xD;
	'workerInfoSelections':workerInfoSelections,&#xD;
	'serviceOrderSelections':serviceOrderSelections&#xD;
};&#xD;
var action = view.get(&quot;#updateOrderAction&quot;);&#xD;
action.set(&quot;parameter&quot;,parameter).execute(function(result){&#xD;
	if (result){&#xD;
		dorado.widget.NotifyTipManager.notify('绑定成功');&#xD;
		view.get(&quot;#dsWorkerInfo&quot;).flushAsync();&#xD;
		view.get(&quot;#dsServiceOrder&quot;).flushAsync();&#xD;
		view.get(&quot;#dsNowDistibutionOrder&quot;).flushAsync();&#xD;
	} else {&#xD;
		dorado.widget.NotifyTipManager.notify('绑定失败,请重试');&#xD;
		view.get(&quot;#dsWorkerInfo&quot;).flushAsync();&#xD;
		view.get(&quot;#dsServiceOrder&quot;).flushAsync();&#xD;
		view.get(&quot;#dsNowDistibutionOrder&quot;).flushAsync();&#xD;
	}&#xD;
});&#xD;
&#xD;
</ClientEvent>
            <Property name="caption">绑定</Property>
          </Button>
          <Button>
            <ClientEvent name="onClick">var serviceOrderImpInfo = view.get(&quot;#dgNowDistibutionOrder&quot;).get(&quot;selection&quot;);&#xD;
if (!serviceOrderImpInfo || 0 == serviceOrderImpInfo.length){&#xD;
	dorado.MessageBox.alert(&quot;请选择需要解绑的订单！&quot;);&#xD;
	return&#xD;
};&#xD;
var parameter ={&#xD;
	'serviceOrderImpInfo':serviceOrderImpInfo&#xD;
};&#xD;
var action = view.get(&quot;#deleteOrderAction&quot;);&#xD;
action.set(&quot;parameter&quot;,parameter).execute(function(result){&#xD;
	if (result){&#xD;
		dorado.widget.NotifyTipManager.notify('解绑成功');&#xD;
		view.get(&quot;#dsWorkerInfo&quot;).flushAsync();&#xD;
		view.get(&quot;#dsServiceOrder&quot;).flushAsync();&#xD;
		view.get(&quot;#dsNowDistibutionOrder&quot;).flushAsync();&#xD;
	} else {&#xD;
		dorado.widget.NotifyTipManager.notify('解绑失败,请重试');&#xD;
		view.get(&quot;#dsWorkerInfo&quot;).flushAsync();&#xD;
		view.get(&quot;#dsServiceOrder&quot;).flushAsync();&#xD;
		view.get(&quot;#dsNowDistibutionOrder&quot;).flushAsync();&#xD;
	}&#xD;
});&#xD;
</ClientEvent>
            <Property name="caption">解除</Property>
          </Button>
        </Container>
        <Container layout="padding:2;regionPadding:4" layoutConstraint="left">
          <Property name="width">40%</Property>
          <ToolBar>
            <Label>
              <Property name="exClassName">blue-text</Property>
              <Property name="text">师傅已分配列表</Property>
            </Label>
            <Fill/>
          </ToolBar>
          <DataGrid id="dgNowDistibutionOrder">
            <Property name="dataSet">dsNowDistibutionOrder</Property>
            <Property name="groupProperty">workerId</Property>
            <Property name="dataType">ServiceOrderImp</Property>
            <Property name="selectionMode">multiRows</Property>
            <RowSelectorColumn/>
            <RowNumColumn/>
            <DataColumn name="workerId">
              <Property name="property">workerId</Property>
              <Property name="align">center</Property>
              <Property name="caption">师傅编码</Property>
            </DataColumn>
            <DataColumn name="orderNo">
              <Property name="property">orderNo</Property>
              <Property name="align">center</Property>
              <Property name="caption">订单号</Property>
            </DataColumn>
            <DataColumn name="cardName">
              <Property name="property">cardName</Property>
              <Property name="align">center</Property>
              <Property name="caption">姓名</Property>
            </DataColumn>
          </DataGrid>
          <ToolBar layoutConstraint="bottom">
            <DataPilot>
              <Property name="dataSet">dsWorderOrderCount</Property>
              <Property name="itemCodes">|&lt;,&lt;</Property>
            </DataPilot>
            <Fill/>
            <DataPilot>
              <Property name="dataSet">dsWorderOrderCount</Property>
              <Property name="itemCodes">>,>|</Property>
            </DataPilot>
          </ToolBar>
        </Container>
      </Children>
      <Tools/>
    </Panel>
    <DataSet id="dsWorkerInfo">
      <Property name="dataProvider">workerInfoController#queryWorkerInfoList</Property>
      <Property name="pageSize">20</Property>
      <Property name="dataType">[WorkerInfo]</Property>
      <Property name="loadMode">lazy</Property>
    </DataSet>
    <DataSet id="dsServiceOrder">
      <ClientEvent name="onReady">var code = '${param.postStationCode}';&#xD;
var parameter = {&#xD;
	&quot;postStationCode&quot;:code&#xD;
}&#xD;
with (view.get(&quot;#dsServiceOrder&quot;)){&#xD;
set(&quot;parameter&quot;, parameter);&#xD;
flushAsync();&#xD;
}</ClientEvent>
      <Property name="dataProvider">serviceOrderController#queryNotAssignedOrderList</Property>
      <Property name="pageSize">20</Property>
      <Property name="dataType">[ServiceOrder]</Property>
      <Property name="loadMode">lazy</Property>
    </DataSet>
    <DataSet id="dsNowDistibutionOrder">
      <Property name="pageSize">20</Property>
      <Property name="dataType">[ServiceOrderImp]</Property>
      <Property name="dataProvider">serviceOrderController#queryNowDistibutionOrder</Property>
    </DataSet>
    <Export2ReportAction id="exportAction">
      <Property name="template">dgServiceOrder</Property>
      <Property name="dataScope">serverAll</Property>
      <Property name="executingMessage">正在导出……</Property>
      <Property name="successMessage">数据导出成功。</Property>
      <Property name="extension">xlsx</Property>
      <Property name="maxSize">10000</Property>
      <Property name="fileName">订单信息</Property>
    </Export2ReportAction>
    <DataSet id="dsProvince">
      <Property name="dataProvider">cityController#queryProvinceList</Property>
      <Property name="dataType">[City]</Property>
      <Property name="loadMode">lazy</Property>
    </DataSet>
    <DataSet id="dsCity">
      <Property name="dataProvider">cityController#queryCityListByProCode</Property>
      <Property name="dataType">[City]</Property>
      <Property name="loadMode">manual</Property>
    </DataSet>
    <DataSet id="dsRegion">
      <Property name="dataProvider">cityController#queryRegionListByCityCode</Property>
      <Property name="dataType">[City]</Property>
      <Property name="loadMode">manual</Property>
    </DataSet>
    <DataSetDropDown id="ddProvince">
      <ClientEvent name="onOpen">var data=view.get(&quot;#formCondition.entity&quot;);&#xD;
data.set(&quot;city&quot;,&quot;&quot;);&#xD;
data.set(&quot;cityName&quot;,&quot;&quot;);</ClientEvent>
      <Property name="assignmentMap">province=adCode,provinceName=name</Property>
      <Property name="autoOpen">true</Property>
      <Property name="dataSet">dsProvince</Property>
      <Property name="displayProperty">name</Property>
      <Property name="dynaFilter">true</Property>
      <Property name="filterMode">clientSide</Property>
      <Property name="filterOnOpen">true</Property>
      <Property name="filterOnTyping">true</Property>
    </DataSetDropDown>
    <DataSetDropDown id="ddCity">
      <ClientEvent name="beforeExecute">var dsCity=view.get(&quot;#dsCity&quot;); &#xD;
var data=view.get(&quot;#formCondition.entity&quot;);&#xD;
var province = data.get(&quot;province&quot;);&#xD;
if (province||&quot;&quot;==province) {&#xD;
	dsCity.set(&quot;parameter&quot;, province);&#xD;
	dsCity.flushAsync();&#xD;
}&#xD;
</ClientEvent>
      <ClientEvent name="onClose">var data=view.get(&quot;#formCondition.entity&quot;);&#xD;
data.set(&quot;region&quot;,&quot;&quot;);&#xD;
data.set(&quot;regionName&quot;,&quot;&quot;);</ClientEvent>
      <Property name="assignmentMap">city=adCode,cityName=name</Property>
      <Property name="autoOpen">true</Property>
      <Property name="dataSet">dsCity</Property>
      <Property name="displayProperty">name</Property>
      <Property name="dynaFilter">true</Property>
      <Property name="filterMode">clientSide</Property>
      <Property name="filterOnOpen">true</Property>
      <Property name="filterOnTyping">true</Property>
    </DataSetDropDown>
    <DataSetDropDown id="ddRegion">
      <ClientEvent name="beforeExecute">var dsRegion=view.get(&quot;#dsRegion&quot;); &#xD;
var data=view.get(&quot;#formCondition.entity&quot;);&#xD;
var city = data.get(&quot;city&quot;);&#xD;
if (city||&quot;&quot;==city) {&#xD;
	dsRegion.set(&quot;parameter&quot;, city);&#xD;
	dsRegion.flushAsync();&#xD;
}&#xD;
</ClientEvent>
      <Property name="assignmentMap">region=adCode,regionName=name</Property>
      <Property name="autoOpen">true</Property>
      <Property name="dataSet">dsRegion</Property>
      <Property name="displayProperty">name</Property>
      <Property name="dynaFilter">true</Property>
      <Property name="filterMode">clientSide</Property>
      <Property name="filterOnOpen">true</Property>
      <Property name="filterOnTyping">true</Property>
    </DataSetDropDown>
    <AjaxAction id="updateOrderAction">
      <Property name="service">serviceOrderController#updateOrderInfo</Property>
    </AjaxAction>
    <AjaxAction id="deleteOrderAction">
      <Property name="service">serviceOrderController#deleteOrderWorkerInfo</Property>
    </AjaxAction>
  </View>
</ViewConfig>
